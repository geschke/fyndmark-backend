services:
  fyndmark:
    image: fyndmark:latest       
   
    container_name: fyndmark
    restart: unless-stopped

    # Map host port 8080 â†’ container 8080
    ports:
      - "8080:8080"

    # Mount local config directory into container
    volumes:
      - ./config:/config:ro

    # Optional: environment overrides for Viper
    environment:
      # Example: override server.listen if needed
      # SERVER_LISTEN: ":8080"
      # SMTP_HOST: "mailout.geschke.net"
      # SMTP_PORT: "25"
      # SMTP_TLS_POLICY: "none"
      TZ: "Europe/Berlin"

    # Run fyndmark with an explicit config path
    command: ["--config", "/config/config.yaml"]
